## Detector map, format:
## crate slot start_channel end_channel
sbs.hcal.detmap =
## FADC modules        #     Module number that starts at channel 0
## This map is for the 12 fADC modules used for testing
## as described in https://logbooks.jlab.org/entry/3480927
#Active fADCs and their channels.
#  21    16     8     8	
#  22    19     0     11
#  22    20     0     11
  16   3      0     15 0
  16   4      0     15 0
  16   5      0     15 0
  16   6      0     15 0
  16   7      0     15 0
  16   8      0     15 0
  16   9      0     15 0
  16   10     0     15 0
  16   13     0     15 0
  16   14     0     15 0
  16   15     0     15 0
  16   16     0     15 0
  16   17     0     15 0
  16   18     0     15 0
  16   19     0     15 0
  16   20     0     15 0
  17   19     0     15 0 #     16
  17   20     0     15 0 #     16
  #17   18     0     0  0 # 1 channel. Ref fADC (copy of sum trig with pulse shaper).
  17    4     0    31 0 # 32 channels
  17    4     32   63 0 # 32 channels
  17    5     0    31 0 # 32 channels
  17    5     32   63 0 # 32 channels
  17    6     0    31 0 # 32 channels
  17    6     32   63 0 # 32 channels
  17    7     0    31 0 # 32 channels
  17    7     32   63 0 # 32 channels
  17    8     0    31 0 # 32 channels
  17    8     32   32 0 # 1 channel. Sum module trigger copy (logical).
  17    8     34   34 0 # 1 channel. Copy of DVCS pulser EDTM signal (logical).
  17    8     35   35 0 # 1 channel. Copy of BB trigger (logical).
  17    8     36   36 0 # 1 channel. RF (logical).

sbs.hcal.ledmap = 16 30

## Channel map from channel to logical channel
sbs.hcal.start_chanmap=1
sbs.hcal.chanmap = 
#fADC Logical Mapping
##   Ch1   2   3   4   5   6   7   8   9   10  11  12  13  14  15  16 #
##----------------------------------------------------------------
#1
#       1   7   2   8   3   9   4   10  5   11  6   12 
#       13  19  14  20  15  21  16  22  17  23  18  24
	73  79  74  80  75  81  76  82  77  83  78  84  109 115 110 116   #fADC 1
	85  91  86  92  87  93  88  94  89  95  90  96  111 117 112 118   #fADC 2
	97  103 98  104 99  105 100 106 101 107 102 108 113 119 114 120   #fADC 3
	121 127 122 128 123 129 124 130 125 131 126 132 13  19  14  20    #fADC 4
	133 139 134 140 135 141 136 142 137 143 138 144 15  21  16  22    #fADC 5 
	1   7   2   8   3   9   4   10  5   11  6   12  17  23  18  24    #fADC 6
	25  31  26  32  27  33  28  34  29  35  30  36  61  67  62  68    #fADC 7
	37  43  38  44  39  45  40  46  41  47  42  48  63  69  64  70    #fADC 8
	49  55  50  56  51  57  52  58  53  59  54  60  65  71  66  72    #fADC 9
	145 151 146 152 147 153 148 154 149 155 150 156 181 187 182 188   #fADC 10
 	157 163 158 164 159 165 160 166 161 167 162 168 183 189 184 190   #fADC 11
	169 175 170 176 171 177 172 178 173 179 174 180 185 191 186 192   #fADC 12
	193 199 194 200 195 201 196 202 197 203 198 204 229 235 230 236   #fADC 13
	205 211 206 212 207 213 208 214 209 215 210 216 231 237 232 238   #fADC 14
	217 223 218 224 219 225 220 226 221 227 222 228 233 239 234 240   #fADC 15
	241 247 242 248 243 249 244 250 245 251 246 252 277 283 278 284   #fADC 16
	253 259 254 260 255 261 256 262 257 263 258 264 279 285 280 286   #fADC 17
	265 271 266 272 267 273 268 274 269 275 270 276 281 287 282 288  #-1000  #fADC 18
#F1TDC Logical Mapping
##   Ch33  34  35  36  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51  52  53  54  55  56  57  58  59  60  61  62  63  64 #
##----------------------------------------------------------------
#1
#       13  19  14  20  15  21  16  22  17  23  18  24  1   7   2   8   3   9   4   10  5   11  6   12
       85  91  86  92  87  93  88  94  89  95  90  96  111 117 112 118 73  79  74  80  75  81  76  82  77  83  78  84  109 115 110 116  #TDC 1. Ribbons 1, 2.
       169 175 170 176 171 177 172 178 173 179 174 180 185 191 186 192 157 163 158 164 159 165 160 166 161 167 162 168 183 189 184 190  #TDC 1. Ribbons 11, 12.
       121 127 122 128 123 129 124 130 125 131 126 132 13  19  14  20  97  103 98  104 99  105 100 106 101 107 102 108 113 119 114 120  #TDC 2. Ribbons 3, 4.
       205 211 206 212 207 213 208 214 209 215 210 216 231 237 232 238 193 199 194 200 195 201 196 202 197 203 198 204 229 235 230 236  #TDC 2. Ribbons 13, 14.
       1   7   2   8   3   9   4   10  5   11  6   12  17  23  18  24  133 139 134 140 135 141 136 142 137 143 138 144 15  21  16  22   #TDC 3. Ribbons 5, 6.
       241 247 242 248 243 249 244 250 245 251 246 252 277 283 278 284 217 223 218 224 219 225 220 226 221 227 222 228 233 239 234 240  #TDC 3. Ribbons 15, 16.
       37  43  38  44  39  45  40  46  41  47  42  48  63  69  64  70  25  31  26  32  27  33  28  34  29  35  30  36  61  67  62  68   #TDC 4. Ribbons 7, 8.
       265 271 266 272 267 273 268 274 269 275 270 276 281 287 282 288 253 259 254 260 255 261 256 262 257 263 258 264 279 285 280 286  #TDC 4. Ribbons 17, 18.
##   Ch1   2   3   4   5   6   7   8   9   10  11  12  13  14  15  16
       145 151 146 152 147 153 148 154 149 155 150 156 181 187 182 188 49  55  50  56  51  57  52  58  53  59  54  60  65  71  66  72   -1000  -1000  -1000  -1000  #TDC 5. Ribbons 9, 10.       

## Positions in [m] where +z is roated by sbs.theta
sbs.hcal.position = 0 0 0

## HCal is composed of 4 sub-assemblies each of 6x12 (row,col) modules

## Test settings for one sub-assembly
sbs.hcal.size  =  1.8567  0.9461  1.0000

## HCal is a matrix of with nrows and ncols
## Numbers below are just a test so that it maches the number of used fADC's
#sbs.hcal.ncols = 12
#sbs.hcal.nrows = 16
sbs.hcal.nrows = 24
sbs.hcal.ncols = 12

## Position of first module
sbs.hcal.xyz    =  0.92835  0.47305 0.0
## Space between modules
#sbs.hcal.dxdydz  =  0.00254  0.00254 0.0
# Add 0.15m to space between of 0.00254m
sbs.hcal.dxdydz  =  0.15254  0.15254 0.0 

## Mininum energy  for a cluster center (not really used right now)
sbs.hcal.emin  = 0.0


## adc channels to mV assume F250 set fot 2V for 4096
sbs.hcal.adc.conv = 0.4882
# Threshold for pulse finding in waveform (mV)
sbs.hcal.adc.thres = 5.0 #5.0
# Number of bins (bin=4ns) at the beginning of waveform used to determing average Pedestal
sbs.hcal.adc.NPedBin = 4
# Number of bins (bin=4ns) before Threshold Bin to use in integrating pulse
sbs.hcal.adc.NSB = 3 #3
# Number of bins (bin=4ns) before Threshold Bin to use in integrating pulse
sbs.hcal.adc.NSA = 10 #10
# Number of bin for fixed Threshold if no Threshold Crossing is found
sbs.hcal.adc.FixThresBin = 14
# Convert adc integral in pC to GeV
sbs.hcal.adc.gain = 1.0
#
sbs.hcal.tdc.offset = 0.0
#
sbs.hcal.tdc.calib = 0.112
#


-------[ 2021-10-14 08:00:00 ] # Energy calibration parameters available from cosmic data prior to beginning of experimental running


# Convert adc integral in pC to GeV
sbs.hcal.adc.gain = 
##Col->  0       1       2       3       4       5       6       7       8       9       10      11
##------------------------------------------------------------------------------------------------------
##Row
## |
## \/
#1
	0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175
#2
	0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175
#3
	0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175
#4
	0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175
#5
	0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175
#6
	0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175
#7
	0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175
#8
	0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175
#9
	0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175
#10
	0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175
#11
	0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175
#12
	0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175
#13
	0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175
#14
	0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175
#15
	0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175
#16
	0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175
#17
	0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175
#18
	0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175
#19
	0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175
#20
	0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175
#21
	0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175
#22
	0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175
#23
	0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175
#24
	0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175 0.00175


-------[ 2021-10-15 08:00:00 ] # Energy calibration parameters before HV change

# Convert adc integral in pC to GeV
sbs.hcal.adc.gain = 
##Col->  0       1       2       3       4       5       6       7       8       9       10      11
##------------------------------------------------------------------------------------------------------
##Row
## |
## \/
0.00175  0.00175  0.00175  0.00175  0.00250762  0.00175919  0.00175  0.00175  0.00175  0.00175  0.00175  0.00175  
0.00175  0.00432867  0.00337162  0.00249192  0.00235195  0.00234699  0.00153758  0.000848242  0.00109984  0.00243618  0.0030885  0.00499405  
0.00175  0.00235436  0.00255926  0.00250967  0.00223605  0.00198968  0.000831919  0.00116117  0.00172346  0.0025184  0.00187801  0.00175  
0.00175  0.00444708  0.00229711  0.00236104  0.0018954  0.00205752  0.00206201  0.00229144  0.00194695  0.00264562  0.00267743  0.00175  
0.00175  0.00364003  0.00245387  0.00232472  0.00218525  0.00183429  0.00224121  0.00217835  0.00218925  0.00263394  0.00277954  0.00175  
0.00175  0.0045171  0.0029942  0.00190557  0.00205354  0.00203601  0.00199452  0.00202188  0.00215601  0.00201099  0.00306144  0.00175  
0.00175  0.00187303  0.00128163  0.00152671  0.00131423  0.00146239  0.00212328  0.00203788  0.00212254  0.00239473  0.00259227  0.00175  
0.00175  0.00440493  0.00292266  0.00261831  0.00227218  0.00211548  0.00220416  0.0020346  0.00232785  0.00262472  0.00311819  0.00175  
0.00175  0.0040634  0.00268731  0.00247888  0.00238054  0.00191068  0.00144576  0.0021455  0.00197736  0.00241394  0.00255821  0.00175  
0.00175  0.0043267  0.00266543  0.00280426  0.00226943  0.00196582  0.00210514  0.00195261  0.00212589  0.00224943  0.0027558  0.00175  
0.00175  0.00561775  0.00322854  0.00251263  0.00231992  0.00199662  0.00206826  0.00208038  0.00208028  0.00238162  0.00302831  0.00460967  
0.00175  0.00509753  0.00301924  0.00253345  0.00245543  0.00195115  0.00181801  0.00216418  0.00237546  0.00259962  0.0031217  0.00175  
0.00175  0.0032791  0.00304489  0.00107447  0.00155267  0.00147008  0.00228728  0.00231782  0.00241549  0.00229259  0.00331419  0.00175  
0.00175  0.00497306  0.00391461  0.00280527  0.00213508  0.00217016  0.00213606  0.00253794  0.00204914  0.00287352  0.00363998  0.00515704  
0.00175  0.00554204  0.00403005  0.00301732  0.00258779  0.00264209  0.00239686  0.00231274  0.00248173  0.00122854  0.00318983  0.00487072  
0.00175  0.00460529  0.00477213  0.00298199  0.00219044  0.00230586  0.00241283  0.00253669  0.00258209  0.00271096  0.00345656  0.00175  
0.00175  0.00390485  0.00436925  0.00393215  0.00171239  0.00288892  0.00214916  0.00174038  0.00261318  0.00286617  0.00332925  0.0049583  
0.00175  0.00525654  0.00414503  0.00338774  0.00291355  0.00271323  0.00283273  0.0027518  0.00263287  0.00321095  0.00386411  0.00175  
0.00175  0.0059755  0.00409014  0.00368687  0.00316705  0.00306044  0.00294544  0.00310249  0.0027448  0.00392331  0.00459535  0.00175  
0.00175  0.00655024  0.00422536  0.00351746  0.00236359  0.00256319  0.00267649  0.00293196  0.0033178  0.00408932  0.00505393  0.00175  
0.00175  0.00633678  0.00175  0.00367155  0.00250182  0.00253476  0.00317421  0.00297613  0.00329041  0.00367478  0.00460369  0.00175  
0.00175  0.00410583  0.00466551  0.00374826  0.00309448  0.00297398  0.00325076  0.00331516  0.00342698  0.00367655  0.004302  0.00175  
0.00175  0.00562149  0.00432153  0.00367007  0.00349267  0.00312553  0.0028161  0.00377182  0.00293383  0.00376635  0.00433666  0.00175  
0.00175  0.00175  0.00175  0.00175  0.00175  0.00175  0.00175  0.00175  0.00175  0.00175  0.00175  0.00175  


-------[ 2021-11-02 07:12:30 ] # TDC offset changes from cosmic data taken during downtime

sbs.hcal.adc.gain = 100.0 #Test

#
sbs.hcal.tdc.offset = 
##Col->  0       1       2       3       4       5       6       7       8       9       10      11
##------------------------------------------------------------------------------------------------------
##Row
## |
## \/
#1
	6.31122  6.19864  8.89867  7.64475  -7.72338  -6.30348  -2.29412  -4.2148  7.95477  7.68067  8.98928  5.44022  
#2
	9.28857  9.43363  7.48547  9.06917  -4.26752  -3.76132  -2.76876  -2.01504  10.1013  8.0651  8.32378  6.83678  
#3
	7.66547  6.11925  8.37502  9.28695  -4.78689  -4.02952  -4.46346  -5.0971  9.39668  8.79251  7.13884  6.46886  
#4
	11.349  11.6625  14.3837  13.1806  -0.627214  -1.12352  0  -0.0157792  11.5832  12.946  10.9849  8.55806  
#5
	-1.49642  -1.15287  -1.04296  -0.145115  -8.62704  -11.9357  -12.5574  -12.9523  -0.554507  0.509712  -0.351878  -1.35425  
#6
	13.2406  12.9669  14.9238  14.7745  -11.9541  -10.0035  2.13631  1.84958  16.552  15.2087  0.775445  0.889806  
#7
	4.94206  9.0504  10.4875  11.0807  -4.33045  -2.60522  -2.49634  -4.09649  15.1228  13.68  9.43608  7.45322  
#8
	11.3858  10.6095  11.631  10.9661  -0.825903  -1.61937  -2.4669  -1.17921  10.3323  13.116  7.98222  6.99877  
#9
	13.3582  15.1214  13.5827  13.1911  0.703838  0.571627  2.39768  1.28996  13.6303  14.2027  13.4841  12.6041  
#10
	9.85982  11.5211  12.8383  12.0732  2.18965  2.17765  2.21581  2.54462  14.4685  10.8074  13.1775  12.8775  
#11
	15.5735  13.0611  12.8952  12.3372  4.46066  2.6272  4.71265  4.66913  13.7238  14.1011  12.8972  10.4173  
#12
	12.7252  13.3374  14.3637  13.1939  0.352021  -0.818926  1.61084  1.77679  15.0918  14.4027  10.9454  10.6031  
#13
	-3.50908  -1.67326  -2.00132  -0.310727  -14.1496  -12.3296  -13.4901  -12.5589  1.27422  0.206245  -0.537067  -1.89525  
#14
	15.2883  13.3649  14.3279  12.4785  5.9707  1.67345  6.28664  4.85486  13.1724  13.5777  16.7245  12.743  
#15
	11.6907  14.4956  13.5566  12.2945  2.73172  3.55737  5.31526  3.82268  13.0828  10.5947  12.3013  13.6721  
#16
	0.0828089  -1.36344  15.3793  16.2295  4.00783  1.05778  -9.71197  -9.78746  14.7541  16.8671  13.1562  12.9927  
#17
	11.5212  11.0484  15.4761  16.644  2.60778  5.26143  0.592505  -1.79572  17.926  15.8569  15.9485  12.5573  
#18
	-8.81855  -8.53406  0.0279481  -3.3772  7.34988  6.59504  -14.7028  -15.7391  1.05206  -1.59587  18.1784  15.7829  
#19
	12.3618  11.0123  16.442  14.261  -13.0829  -10.9361  3.47859  4.62878  16.205  14.5232  -1.6327  -4.84177  
#20
	13.9376  16.7572  17.5587  17.9154  -15.7733  -14.9243  7.57652  5.03576  18.4623  20.0286  -4.62593  -4.99685  
#21
	9.06649  12.5247  11.826  13.7375  -13.0486  -12.4817  3.83967  2.80976  13.3936  13.0083  -4.75293  -5.6404  
#22
	10.3902  10.3228  14.3978  13.1298  1.94914  4.30138  7.84029  2.74697  13.166  12.2743  12.3696  9.01172  
#23
	12.3185  16.1393  14.5298  13.5144  3.82626  5.74915  3.68725  4.50162  14.9882  12.9132  11.8854  12.3943  
#24
	-6.46948  -5.91409  11.4611  10.4687  2.68443  4.49744  -14.2535  -17.677  13.082  11.1636  10.274  13.0963



